# Roadmap - Sistema de Treinamento de IA

## Visão Geral do Fluxo

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                         SISTEMA DE TREINAMENTO DE IA                            │
└─────────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│  1. SELEÇÃO DE CONTEXTO                                                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                          │
│  │   Agente     │→ │    Etapa     │→ │   Conexão    │                          │
│  │  (AI Agent)  │  │   (Funil)    │  │  (WhatsApp)  │                          │
│  └──────────────┘  └──────────────┘  └──────────────┘                          │
│         │                 │                                                     │
│         └────────┬────────┘                                                     │
│                  ▼                                                              │
│         ┌──────────────┐                                                        │
│         │ Carrega      │                                                        │
│         │ SystemPrompt │                                                        │
│         └──────────────┘                                                        │
└─────────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│  2. ABAS DE FUNCIONALIDADES                                                     │
│                                                                                 │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌────────┐
│  │ Sandbox │ │ Editor  │ │ Testes  │ │ Fluxo   │ │ Versões │ │  A/B    │ │Métricas│
│  │         │ │ Prompt  │ │         │ │ grama   │ │         │ │ Testing │ │        │
│  └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘ └───┬────┘
│       │           │           │           │           │           │          │
└───────┼───────────┼───────────┼───────────┼───────────┼───────────┼──────────┼──────┘
        │           │           │           │           │           │          │
        ▼           ▼           ▼           ▼           ▼           ▼          ▼
```

---

## Detalhamento de Cada Módulo

### 1. SANDBOX (Testes em Tempo Real)

```
┌────────────────────────────────────────────────────────────────┐
│                         SANDBOX                                │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌─────────────────┐         ┌─────────────────────────────┐  │
│  │  Modo Simular   │         │      Preview WhatsApp       │  │
│  │  (não envia)    │         │  ┌───────────────────────┐  │  │
│  └────────┬────────┘         │  │ 👤 Cliente: Olá!      │  │  │
│           │                  │  │ 🤖 Bot: Como posso... │  │  │
│           ▼                  │  │ 👤 Cliente: Preço?    │  │  │
│  ┌─────────────────┐         │  │ 🤖 Bot: O produto...  │  │  │
│  │  Input Mensagem │────────→│  └───────────────────────┘  │  │
│  └─────────────────┘         │                             │  │
│                              │  ┌───────────────────────┐  │  │
│  ┌─────────────────┐         │  │     LOGS / DEBUG      │  │  │
│  │   Avaliação     │         │  │ [ai] provider=openai  │  │  │
│  │  ✓ Correto      │         │  │ [ai] model=gpt-4      │  │  │
│  │  ✗ Incorreto    │         │  │ [ai] time=1234ms      │  │  │
│  └────────┬────────┘         │  └───────────────────────┘  │  │
│           │                  └─────────────────────────────┘  │
│           ▼                                                   │
│  ┌─────────────────────────────────────────────────────────┐  │
│  │              FEEDBACK (se incorreto)                    │  │
│  │  ┌─────────────────┐  ┌─────────────────────────────┐  │  │
│  │  │ Resposta Correta│  │ Explicação do Erro          │  │  │
│  │  └─────────────────┘  └─────────────────────────────┘  │  │
│  │                              │                          │  │
│  │                              ▼                          │  │
│  │                    ┌─────────────────┐                  │  │
│  │                    │ Gera Melhoria   │                  │  │
│  │                    │ (Improvement)   │                  │  │
│  │                    └─────────────────┘                  │  │
│  └─────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

---

### 2. EDITOR DE PROMPT (com IA)

```
┌────────────────────────────────────────────────────────────────┐
│                     EDITOR DE PROMPT                           │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                    ÁREA DE EDIÇÃO                        │  │
│  │  ┌────────────────────────────────────────────────────┐  │  │
│  │  │ Você é um assistente de vendas...                  │  │  │
│  │  │ {{contact.name}} - Nome do contato                 │  │  │
│  │  │ Se o cliente perguntar sobre preço...              │  │  │
│  │  │ Sempre responda de forma cordial...                │  │  │
│  │  └────────────────────────────────────────────────────┘  │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              │                                 │
│                              ▼                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                 BARRA DE ASSISTENTE IA                   │  │
│  │  ┌────────────────────────────┐ ┌────┐ ┌────┐ ┌──────┐  │  │
│  │  │ "deixe mais humanizado..." │ │ 🔧 │ │ 💡 │ │ {{}} │  │  │
│  │  └────────────────────────────┘ └────┘ └────┘ └──────┘  │  │
│  │         Comando                Reescrever Analisar Vars  │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              │                                 │
│         ┌────────────────────┼────────────────────┐            │
│         ▼                    ▼                    ▼            │
│  ┌─────────────┐    ┌─────────────────┐   ┌─────────────────┐  │
│  │  REESCREVER │    │    ANALISAR     │   │   VARIÁVEIS     │  │
│  │  com IA     │    │    Prompt       │   │                 │  │
│  │             │    │                 │   │ CONTATO:        │  │
│  │ Envia para  │    │ Score: 85/100   │   │ {{contact.name}}│  │
│  │ OpenAI/     │    │                 │   │ {{contact.phone}│  │
│  │ Anthropic   │    │ Sugestões:      │   │                 │  │
│  │             │    │ - Adicionar...  │   │ FERRAMENTAS:    │  │
│  │ Retorna     │    │ - Melhorar...   │   │ @buscar_produto │  │
│  │ prompt      │    │ - Remover...    │   │ @criar_pedido   │  │
│  │ otimizado   │    │                 │   │                 │  │
│  └─────────────┘    └─────────────────┘   └─────────────────┘  │
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │              [  APLICAR NO AGENTE  ]                     │  │
│  │         Salva o prompt na etapa do funil                 │  │
│  └──────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

---

### 3. TESTES UNITÁRIOS

```
┌────────────────────────────────────────────────────────────────┐
│                    TESTES UNITÁRIOS                            │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                  CRIAR CENÁRIO                           │  │
│  │  ┌─────────────────────────────────────────────────────┐ │  │
│  │  │ Nome: "Teste de saudação inicial"                   │ │  │
│  │  │ Input: "Olá, bom dia!"                              │ │  │
│  │  │ Resposta Esperada: "Olá! Como posso ajudar?"        │ │  │
│  │  └─────────────────────────────────────────────────────┘ │  │
│  │                        [SALVAR]                          │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              │                                 │
│                              ▼                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                 LISTA DE CENÁRIOS                        │  │
│  │  ┌─────────────────────────────────────────────────────┐ │  │
│  │  │ ✓ Saudação inicial          [92%] [▶ Executar]      │ │  │
│  │  │ ✓ Pergunta sobre preço      [88%] [▶ Executar]      │ │  │
│  │  │ ✗ Reclamação do cliente     [45%] [▶ Executar]      │ │  │
│  │  │ ○ Solicitação de desconto   [--]  [▶ Executar]      │ │  │
│  │  └─────────────────────────────────────────────────────┘ │  │
│  │                  [EXECUTAR TODOS]                        │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              │                                 │
│                              ▼                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                 RESULTADO DO TESTE                       │  │
│  │  ┌─────────────────────────────────────────────────────┐ │  │
│  │  │ ESPERADO:                                           │ │  │
│  │  │ "Olá! Como posso ajudar você hoje?"                 │ │  │
│  │  │                                                     │ │  │
│  │  │ OBTIDO:                                             │ │  │
│  │  │ "Olá! Em que posso ser útil?"                       │ │  │
│  │  │                                                     │ │  │
│  │  │ SIMILARIDADE: 92% ████████████░░░                   │ │  │
│  │  │ STATUS: ✓ PASSOU                                    │ │  │
│  │  └─────────────────────────────────────────────────────┘ │  │
│  └──────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

---

### 4. FLUXOGRAMA DO PROMPT

```
┌────────────────────────────────────────────────────────────────┐
│                  VISUALIZAÇÃO DE FLUXO                         │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│    ┌──────────────────────────────────────────────────────┐    │
│    │               CONTROLES DE ZOOM                      │    │
│    │            [ - ]  [ 100% ]  [ + ]  [ ⊙ ]             │    │
│    └──────────────────────────────────────────────────────┘    │
│                                                                │
│    ┌──────────────────────────────────────────────────────┐    │
│    │                                                      │    │
│    │            ┌─────────────────────┐                   │    │
│    │            │  ▶ INÍCIO           │ (verde)           │    │
│    │            └──────────┬──────────┘                   │    │
│    │                       │                              │    │
│    │                       ▼                              │    │
│    │            ┌─────────────────────┐                   │    │
│    │            │ 📋 "Você é um       │ (roxo)            │    │
│    │            │    assistente..."   │ Instrução         │    │
│    │            └──────────┬──────────┘                   │    │
│    │                       │                              │    │
│    │                       ▼                              │    │
│    │            ◆─────────────────────◆                   │    │
│    │           ╱  "Se cliente         ╲ (laranja)         │    │
│    │          ╱   perguntar preço"     ╲ Condição         │    │
│    │         ◆─────────────────────────◆                  │    │
│    │            │SIM              │NÃO                    │    │
│    │            ▼                 ▼                       │    │
│    │    ┌─────────────┐   ┌─────────────┐                 │    │
│    │    │ ● "Informe  │   │ ● "Continue │ (azul)          │    │
│    │    │   tabela"   │   │   atendendo"│ Ação            │    │
│    │    └──────┬──────┘   └──────┬──────┘                 │    │
│    │           │                 │                        │    │
│    │           └────────┬────────┘                        │    │
│    │                    ▼                                 │    │
│    │            ┌─────────────────────┐                   │    │
│    │            │  ■ FIM              │ (vermelho)        │    │
│    │            └─────────────────────┘                   │    │
│    │                                                      │    │
│    └──────────────────────────────────────────────────────┘    │
│                                                                │
│    ┌──────────────────────────────────────────────────────┐    │
│    │  LEGENDA:                                            │    │
│    │  🟢 Início   🟣 Instrução   🟠 Condição              │    │
│    │  🔵 Ação     🔴 Fim                                  │    │
│    └──────────────────────────────────────────────────────┘    │
└────────────────────────────────────────────────────────────────┘
```

---

### 5. VERSIONAMENTO DE PROMPT

```
┌────────────────────────────────────────────────────────────────┐
│                   HISTÓRICO DE VERSÕES                         │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │              SALVAR NOVA VERSÃO                          │  │
│  │  ┌─────────────────────────────────────────────────────┐ │  │
│  │  │ Descrição: "Adicionado tratamento de reclamações"   │ │  │
│  │  └─────────────────────────────────────────────────────┘ │  │
│  │                    [SALVAR VERSÃO]                       │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                 LINHA DO TEMPO                           │  │
│  │                                                          │  │
│  │  ●────●────●────●────●────●────●                         │  │
│  │  v1   v2   v3   v4   v5   v6   v7 (atual)                │  │
│  │                                                          │  │
│  │  ┌─────────────────────────────────────────────────────┐ │  │
│  │  │ v7 (atual) - 10/01/2025 14:30                       │ │  │
│  │  │ "Adicionado tratamento de reclamações"              │ │  │
│  │  │ Por: admin@empresa.com                              │ │  │
│  │  │                        [VER] [COMPARAR]             │ │  │
│  │  ├─────────────────────────────────────────────────────┤ │  │
│  │  │ v6 - 09/01/2025 10:15                               │ │  │
│  │  │ "Melhorado tom de comunicação"                      │ │  │
│  │  │ Por: admin@empresa.com                              │ │  │
│  │  │                [VER] [COMPARAR] [RESTAURAR]         │ │  │
│  │  ├─────────────────────────────────────────────────────┤ │  │
│  │  │ v5 - 08/01/2025 16:45                               │ │  │
│  │  │ "Corrigido erro na saudação"                        │ │  │
│  │  │                [VER] [COMPARAR] [RESTAURAR]         │ │  │
│  │  └─────────────────────────────────────────────────────┘ │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                  COMPARAR VERSÕES                        │  │
│  │  ┌────────────────────┐  ┌────────────────────┐          │  │
│  │  │ VERSÃO 5           │  │ VERSÃO 7           │          │  │
│  │  │                    │  │                    │          │  │
│  │  │ - Olá, bom dia!    │  │ + Olá! Como vai?   │          │  │
│  │  │ - Como posso...    │  │ + Em que posso...  │          │  │
│  │  │                    │  │ + Se tiver alguma  │          │  │
│  │  │                    │  │   reclamação...    │          │  │
│  │  └────────────────────┘  └────────────────────┘          │  │
│  └──────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

---

### 6. A/B TESTING

```
┌────────────────────────────────────────────────────────────────┐
│                      A/B TESTING                               │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                  MENSAGEM DE TESTE                       │  │
│  │  ┌─────────────────────────────────────────────────────┐ │  │
│  │  │ "Qual o preço do produto X?"                        │ │  │
│  │  └─────────────────────────────────────────────────────┘ │  │
│  │                     [COMPARAR]                           │  │
│  └──────────────────────────────────────────────────────────┘  │
│                              │                                 │
│              ┌───────────────┴───────────────┐                 │
│              ▼                               ▼                 │
│  ┌─────────────────────────┐   ┌─────────────────────────┐     │
│  │      PROMPT A           │   │      PROMPT B           │     │
│  │  (Etapa selecionada)    │   │  (Versão alternativa)   │     │
│  ├─────────────────────────┤   ├─────────────────────────┤     │
│  │ "O produto X custa      │   │ "Ótima escolha! 😊      │     │
│  │  R$ 99,90. Posso        │   │  O produto X está       │     │
│  │  ajudar com mais        │   │  por apenas R$ 99,90!   │     │
│  │  alguma coisa?"         │   │  Quer que eu reserve?"  │     │
│  ├─────────────────────────┤   ├─────────────────────────┤     │
│  │      [👍 VOTAR]         │   │      [👍 VOTAR]         │     │
│  └─────────────────────────┘   └─────────────────────────┘     │
│                              │                                 │
│                              ▼                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                   RESULTADO PARCIAL                      │  │
│  │                                                          │  │
│  │    PROMPT A ████████████████░░░░ 65% (13 votos)          │  │
│  │    PROMPT B ████████░░░░░░░░░░░░ 35% (7 votos)           │  │
│  │                                                          │  │
│  │    Total: 20 comparações realizadas                      │  │
│  └──────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

---

### 7. DASHBOARD DE MÉTRICAS

```
┌────────────────────────────────────────────────────────────────┐
│                   DASHBOARD DE MÉTRICAS                        │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌───────────┐ │
│  │   TOTAL     │ │ SATISFAÇÃO  │ │  MELHORIAS  │ │  TESTES   │ │
│  │  FEEDBACKS  │ │             │ │  APLICADAS  │ │ PASSANDO  │ │
│  │             │ │             │ │             │ │           │ │
│  │    156      │ │    87%      │ │     23      │ │   92%     │ │
│  │    📊       │ │    😊       │ │    ✓       │ │   ✓      │ │
│  └─────────────┘ └─────────────┘ └─────────────┘ └───────────┘ │
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │              EVOLUÇÃO DOS FEEDBACKS (7 dias)             │  │
│  │                                                          │  │
│  │  25│                              ╭─╮                    │  │
│  │    │              ╭───╮          │  │    ╭───╮          │  │
│  │  20│    ╭───╮    │    │    ╭───╮│  │   │    │          │  │
│  │    │   │    │   │    │   │    ││  │  │    │          │  │
│  │  15│  │    │  │    │  │    ││  │ │    │          │  │
│  │    │ │    │ │    │ │    ││  ││    │          │  │
│  │  10│╭╯    ╰╮│    │╭╯    ╰╮│  ╰╮│    │          │  │
│  │    ││      ││    ││      ││   ││    │          │  │
│  │   5│╯      ╰╯    ╰╯      ╰╯   ╰╯    ╰──────────│  │
│  │    └────────────────────────────────────────────          │  │
│  │     Seg  Ter  Qua  Qui  Sex  Sab  Dom                     │  │
│  │                                                          │  │
│  │     ■ Positivos   ■ Negativos                            │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │              DISTRIBUIÇÃO POR CATEGORIA                  │  │
│  │                                                          │  │
│  │   Saudação      ████████████████████░░░░  45%            │  │
│  │   Preços        ████████████░░░░░░░░░░░░  28%            │  │
│  │   Suporte       ████████░░░░░░░░░░░░░░░░  18%            │  │
│  │   Outros        ████░░░░░░░░░░░░░░░░░░░░   9%            │  │
│  │                                                          │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │              FEEDBACKS NEGATIVOS RECENTES                │  │
│  │                                                          │  │
│  │  ⚠ "Resposta muito formal para reclamação"               │  │
│  │     há 2 horas - Etapa: Suporte                          │  │
│  │                                                          │  │
│  │  ⚠ "Não ofereceu alternativas de pagamento"              │  │
│  │     há 5 horas - Etapa: Vendas                           │  │
│  │                                                          │  │
│  └──────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘
```

---

## Fluxo Completo de Uso

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                          FLUXO DE TRABALHO RECOMENDADO                          │
└─────────────────────────────────────────────────────────────────────────────────┘

     ┌──────────┐
     │  INÍCIO  │
     └────┬─────┘
          │
          ▼
┌─────────────────────┐
│ 1. Selecionar       │
│    Agente + Etapa   │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐     ┌─────────────────────┐
│ 2. Revisar Prompt   │────▶│ 2a. Visualizar      │
│    no Editor        │     │     Fluxograma      │
└──────────┬──────────┘     └─────────────────────┘
           │
           ▼
┌─────────────────────┐
│ 3. Usar Assistente  │
│    IA para melhorar │
│    - Reescrever     │
│    - Analisar       │
│    - Add variáveis  │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 4. Salvar Versão    │
│    (Histórico)      │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 5. Criar Cenários   │
│    de Teste         │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐     ┌─────────────────────┐
│ 6. Testar no        │────▶│ 6a. A/B Testing     │
│    Sandbox          │     │     (comparar)      │
└──────────┬──────────┘     └─────────────────────┘
           │
           │ Feedback
           ▼
    ┌──────────────┐
    │  Correto?    │
    └──────┬───────┘
           │
     ┌─────┴─────┐
     │           │
    SIM         NÃO
     │           │
     ▼           ▼
┌─────────┐  ┌─────────────────┐
│ Aplicar │  │ Corrigir e      │
│ no      │  │ Gerar Melhoria  │
│ Agente  │  └────────┬────────┘
└────┬────┘           │
     │                │
     │    ┌───────────┘
     │    │
     ▼    ▼
┌─────────────────────┐
│ 7. Monitorar        │
│    Dashboard        │
│    de Métricas      │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ 8. Iterar e         │
│    Melhorar         │◀──────────────┐
└──────────┬──────────┘              │
           │                         │
           └─────────────────────────┘
                   (ciclo contínuo)
```

---

## Arquitetura Técnica

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              ARQUITETURA                                        │
└─────────────────────────────────────────────────────────────────────────────────┘

                            ┌─────────────────┐
                            │    FRONTEND     │
                            │    (React)      │
                            └────────┬────────┘
                                     │
            ┌────────────────────────┼────────────────────────┐
            │                        │                        │
            ▼                        ▼                        ▼
    ┌───────────────┐      ┌───────────────┐      ┌───────────────┐
    │ AITraining    │      │ Componentes   │      │ Services      │
    │ Page          │      │               │      │               │
    │               │      │ PromptAssist  │      │ aiTraining.js │
    │ - Sandbox     │      │ TestScenarios │      │ aiAgents.js   │
    │ - Editor      │      │ PromptVersion │      │               │
    │ - Testes      │      │ Dashboard     │      │               │
    │ - Métricas    │      │ ABTesting     │      │               │
    │ - Versões     │      │ FlowViz       │      │               │
    │ - A/B         │      │ ToolCalls     │      │               │
    └───────────────┘      └───────────────┘      └───────────────┘
                                     │
                                     │ HTTP/REST
                                     ▼
                            ┌─────────────────┐
                            │    BACKEND      │
                            │   (Node.js)     │
                            └────────┬────────┘
                                     │
    ┌────────────────────────────────┼────────────────────────────────┐
    │                                │                                │
    ▼                                ▼                                ▼
┌─────────────┐            ┌─────────────────┐            ┌─────────────────┐
│ Controllers │            │ Services        │            │ Models          │
│             │            │                 │            │                 │
│ AISandbox   │            │ AIOrchestrator  │            │ AIAgent         │
│ AITraining  │            │                 │            │ FunnelStage     │
│ AIPrompt    │            │ - OpenAI        │            │ AITrainingFeed  │
│ AITest      │            │ - Anthropic     │            │ AITestScenario  │
│ AIVersion   │            │ - Google        │            │ AITestResult    │
│ AIMetrics   │            │                 │            │ AIPromptVersion │
└─────────────┘            └─────────────────┘            └─────────────────┘
                                     │
                                     │
                                     ▼
                    ┌─────────────────────────────────┐
                    │          DATABASE               │
                    │         (PostgreSQL)            │
                    │                                 │
                    │  - ai_agents                    │
                    │  - funnel_stages                │
                    │  - ai_training_feedbacks        │
                    │  - ai_training_improvements     │
                    │  - ai_test_scenarios            │
                    │  - ai_test_results              │
                    │  - ai_prompt_versions           │
                    └─────────────────────────────────┘
```

---

## Endpoints da API

| Método | Endpoint | Descrição |
|--------|----------|-----------|
| GET | `/ai-agents` | Lista agentes |
| GET | `/ai-agents/:id/funnel-stages` | Lista etapas do funil |
| PUT | `/ai-agents/:id/funnel-stages/:stageId/system-prompt` | Atualiza prompt |
| POST | `/ai/sandbox/sessions` | Cria sessão de teste |
| POST | `/ai/sandbox/sessions/:id/messages` | Envia mensagem |
| POST | `/ai/training/feedback` | Salva feedback |
| POST | `/ai/training/improvements` | Cria melhoria |
| POST | `/ai/training/improvements/apply` | Aplica melhorias |
| GET | `/ai/training/metrics` | Dashboard de métricas |
| POST | `/ai/prompt-assistant/rewrite` | Reescreve prompt com IA |
| POST | `/ai/prompt-assistant/suggest` | Sugere melhorias |
| GET | `/ai/prompt-assistant/variables` | Lista variáveis |
| POST | `/ai/test-scenarios` | Cria cenário de teste |
| GET | `/ai/test-scenarios` | Lista cenários |
| POST | `/ai/test-scenarios/:id/run` | Executa teste |
| POST | `/ai/prompt-versions` | Salva versão |
| GET | `/ai/prompt-versions` | Lista versões |
| POST | `/ai/prompt-versions/:id/rollback` | Restaura versão |
| GET | `/ai/prompt-versions/compare` | Compara versões |

---

## Próximos Passos (Roadmap Futuro)

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           ROADMAP FUTURO                                        │
└─────────────────────────────────────────────────────────────────────────────────┘

Q1 2025
├── ✅ Sandbox de testes
├── ✅ Editor de prompt com IA
├── ✅ Testes unitários
├── ✅ Fluxograma visual
├── ✅ Versionamento
├── ✅ A/B Testing
└── ✅ Dashboard de métricas

Q2 2025
├── ○ Importar/Exportar prompts (JSON/YAML)
├── ○ Templates de prompts pré-configurados
├── ○ Integração com analytics externo
├── ○ Testes automatizados em CI/CD
└── ○ Multi-idioma para prompts

Q3 2025
├── ○ IA para geração automática de cenários de teste
├── ○ Detecção de anomalias em respostas
├── ○ Sugestões baseadas em histórico de feedbacks
├── ○ Colaboração em tempo real (múltiplos editores)
└── ○ Modo debug avançado (step-by-step)

Q4 2025
├── ○ Marketplace de prompts
├── ○ Certificação de qualidade de prompts
├── ○ API pública para integrações
├── ○ Mobile app para monitoramento
└── ○ IA que aprende com feedbacks automaticamente
```

---

**Documento gerado em:** Janeiro 2025  
**Versão:** 1.0
